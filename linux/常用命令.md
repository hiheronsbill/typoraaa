

### 一、目录结构



![image-20250104155635039](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250104155635039.png)

- /bin
  - 是Binary的缩写，这个目录存放着的是最经常使用的命令
- /sbin
  - s是Super User的意思，这里存放的是系统管理员使用的系统管理程序
- /root
  - 该目录为系统管理员，也称作超级权限者的用户目录
- /lib
  - 系统开机所需要最基本的动态链接共享库，其作用类似于windows里的DLL文件，几乎所用应用程序都需要用到这些共享库
- /etc
  - 所有的系统管理员所需要的配置文件和子目录
- /usr
  - 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录
- /boot
  - 这里存放的是启动Linux时使用的一些核心文件，包括一些链接文件以及镜像文件，自己的安装别放这里
- /proc
  - 这个目录是一个虚拟目录，他是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息
- /srv
  - service缩写，该目录存放一些服务启动之后需要提取的数据
- /sys
  - 这是linux2.6内核的一个很大变化，该目录下安装了2.6内核中新出现的一个文件系统sysfs
- /lost+found
  - 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件
- /tmp
  - 存放一些临时文件
- /dev
  - 类似windows设备管理器，把所有的硬件用文件的形式存储
- /mnt
  - 系统提供该目录是为了让用户临时挂在别的文件系统的，我们可以将外部的存储挂在在/mnt上，然后进入该目录就可以查看内容了
- /opt
  - 这是给主机额外安装软件所提供的目录。比如安装mysql数据库则就可以放在这个目录下。默认是空的
- /var
  - 该目录存放着不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件
- /media(Centos6)
  - linux系统会自动识别一些设备，例如U盘、光驱等，当识别后，就会把识别的设备改在到这个目录下
  - Centos7迁移到了 /run/media





### 二、VI/VIM编辑器



![image-20250104161420569](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250104161420569.png)

#### 一般模式

| 语法         | 功能描述                       |
| :----------- | ------------------------------ |
| yy           | 复制 光标当前一行              |
| y数字y       | 复制一段（从光标行到后面几行） |
| p            | 箭头移动到目的行 粘贴          |
| u            | 撤销上一步                     |
| dd           | 删除光标当前行                 |
| d数字d       | 删除光标（含）后多少行         |
| x            | 剪切一个字母，相当于del        |
| X            | 剪切一个字母，相当于Backspace  |
| yw           | 复制一个词                     |
| dw           | 删除一个词                     |
| shift+6(^)   | 移动到行头                     |
| shift+4($)   | 移动到行尾                     |
| shift+g      | 移动到页尾                     |
| gg           | 移动到页头                     |
| 数字+shift+g | 移动到目标行                   |



#### 编辑模式

- 进入编辑模式

| 按键 | 功能               |
| ---- | ------------------ |
| i    | 当前光标前         |
| a    | 当前光标后         |
| o    | 当前光标行的下一行 |
| I    | 光标所在行最前     |
| A    | 光标所在行最后     |
| O    | 当前光标行的上一行 |

- 退出编辑模式

  按 ESC 键退出编辑模式，之后所在的模式为一般模式



#### 指令模式

| 命令          | 功能                                 |
| ------------- | ------------------------------------ |
| :w            | 保存                                 |
| :q            | 退出                                 |
| :!            | 强制执行                             |
| /要查找的词   | n查找下一个、N查找上一个             |
| :noh          | 取消高亮现实                         |
| :set nu       | 显示行号                             |
| :set nonu     | 关闭行号                             |
| :%s/old/new/g | 替换内容     /g 替换匹配到的所有内容 |



### 三、网络配置



- ifconfig
  - Network interfaces configuring 网络接口配置
  - 显示所有网络接口的配置信息
- ping
  - 测试当前服务器是否可以连接目的主机
- 修改IP地址
  - 位置：/etc/sysconfig/network-scripts/ifcfg-eth0
  - 重启网络
    - service network restart   centos6
    - systemctl  restart NetworkManager  centos7

![image-20250105081757820](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250105081757820.png)

​	

- 修改主机名
  - hostname (查看当前服务器主机名)
  - vi /etc/hostname （修改完成后重启生效）
- 修改hosts映射文件
  - vim  /etc/hosts







### 四、系统管理



#### 1、服务管理

- centos6

  - service 服务名 start|stop|restart|status  （服务管理）
    - 服务所在路径：/etc/init.d/

  - chkconfig (设置后台服务的自启配置)
    - chkconfig                                   查看所有服务器自启配置
    - chkconfig  服务名 off                关掉指定服务的自动启动 
    - chkcofnig  服务名 on                开启指定服务的自动启动
    - chkconfig  服务名 --list             查看服务开机启动状态

- centos7

  - systemctl  start|stop|restart|status  服务名  （服务管理）
    - 服务所在路径：/usr/lib/systemd/system

  - systemctl  设置后台服务的自启设置
    - systemctl list-unit-files                          查看服务开机启动状态
    - systemctl disable  service_name         关掉指定服务的启动启动
    - systemctl enable   service_name         开启指定服务的自动启动



#### 2、运行级别



- centos6

![image-20250105091848807](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250105091848807.png)

- centos7
  - multi-user.target  等价于原运行级别3（多用户有网，无图形界面）
  - graphical.target    等价于原运行级别5（多用户有网，有图形界面）
- systemctl get-default   查看当前运行级别
- systemctl set-default TARGET.target   修改当前运行级别（这里TARGET取multi-user或者graphical）



#### 3、关闭防火墙

- systemctl status firewalld
  - 查看防火墙状态
- systemctl stop firewalld
  - 临时关闭防火墙
- systemctl enable firewalld.service
  - 开启防火墙开机自启动
- systemctl disable firewalld.service
  - 关闭防火墙开机自启动



#### 4、关机重启命令

- sync
  -  将数据由内存同步到硬盘中
- halt
  - 停机，关闭系统，但不断电
- poweroff
  - 关机，断电
- reboot
  - 重启，相当于shutdown -r now
- shutdown [选项] 时间
  - -H    相当于--halt，停机
  - -r     -r=reboot        重启
  - now                         立刻关机
  - 时间                         等待多久后关机（时间单位是分钟）
- 经验技巧
  - LInux系统中为了提高磁盘的读写效率，对磁盘采用了“预读迟写”操作方式。当用户保存文件时，Linxu核心并不一定立即将保存数据写入物理磁盘中，而是将数据保存在缓冲区中，等缓冲区满时再写入磁盘，这种方式科技极大提高磁盘写入属于的效率。但是也带来了安全隐患，如果数据还未写入磁盘时，系统掉电或者其他严重问题出现，则将导致数据丢失。使用sync指令可以立即将缓冲区的数据写入磁盘。



 ——> 

### 五、常用基本命令



#### 1、目录文件

- pwd ——> 打印工作目录

  - print working directory

- ls ——> 列出目录内容

  - -a：全部文件，连同隐藏的文件一起列出来
  - -l：长数据串列出，包含文件的属性与权限等

- mkdir [选项] 要创建的目录    ——>  创建目录

  - -p：创建多层目录

- rmdir 要删除的空目录     ——>  删除目录

- cp [选项] source dest      ——> 复制source文件到dest

  - source：源文件
  - dest：目标文件
  - -r：递归复制整个文件夹

- rm [选项] deleteFile     ——> 删除文件或目录

  - -r：递归删除目录中所有的内容
  - -f：强制执行删除操作，而不提示用于进行确认
  - -v：现实指令的详细执行过程

- mv      ——> 移动文件与目录或重命名

  - mv oldNameFile newNameFile         重命名
  - mv /temp/moveFile  /targetFolder    移动文件

- cat    ——> 查看文件内容

  - -n：现实所有行的行号，包括空行
  - 一般查看较小的文件使用，一屏能显示全

- more 要查看的文件   ——>  文件内容分屏查看器

  - 空白键（space） ：代表向下翻一页
  - enter：                     代表向下翻一行
  - q                                代表立刻离开more，不再现实该文件内容
  - ctrl+F                        向下滚动一屏
  - ctrl+B                        返回上一屏
  - =                                输出当前行的行号
  - :f                                输出文件名和当前行的行号

- less 要查看的文件   ——>  分屏显示文件内容（根据显示需要加载内容）

  - 空白键                       向下翻动一页
  - pagedown                向下翻动一页
  - Pageup                     向上翻动一页
  - /字串                          向下搜索[字串]的功能；n：向下查找；N：向上查找
  - ?字串                          向上搜寻[字串]的功能；n：向上查找；N：向下查找
  - q                                 离开less这个程序

- head 文件      ——>   显示文件头部内容，默认查看文件头10行内容

  - head -n 5 xxx.conf ：查看文件头5行，5可以是任意数字

- tail 文件     ——>  输出文件尾部内容，默认显示后10行内容

  - tail -n 5 文件：显示文件后5行，5可以是任意数字
  - tail -f 文件：实时追踪文档的更新

- \>输出重定向和\>>追加

  - ls -l > 文件                       将列表的内容写入文件（覆盖写）
  - ls -al >> 文件                   将列表的内容追加到文件末尾
  - cat 文件1 > 文件2           将文件1的内容覆盖到文件2
  - echo “内容” >> 文件        将echo的内容追加到文件末尾

- echo [选项] [输出内容]     ——>  输出内容到控制台

  - -c：支持反斜杠控制的字符转换

  | 控制字符 | 作用                |
  | -------- | ------------------- |
  | \\       | 输出\本身           |
  | \n       | 换行符              |
  | \t       | 制表符，也就是Tab键 |

- ln     ——>  软链接

  - ln -s [源文件或目录] [软链接名]        给源文件创建一个软链接
  - 删除软链接：rm -rf 软链接名，而不是rm -rf 软链接名/
  - 通过ll就可以查看，列表属性第一位是l，尾部会有位置指向





#### 2、时间

- date  ——>  显示当前时间/设置系统时间
  - 显示时间
    - date									显示当前时间
    - date +%Y                            只显示当前年份
    - date +%m                           只显示当前月份
    - date +%d                            只显示当前是哪一天
    - date "+%Y-%m-%d %H:%M:%S"       显示年月日时分秒
  - 设置系统时间
    - date -s 字符串时间，如：date -s "2017-06-19 11:11:11"
- cal [选项] ——>    查看日历
  - 选项：具体某一年，显示这一年的日历







#### 3、用户管理

- useradd  ——>  添加新用户

  - useradd 用户名                             添加新用户
  - useradd -g 组名 用户名                添加新用户到某个组

- userdel  ——>   删除用户

  - userdel  用户名                             删除用户但保存用户主目录
  - userdel  -r  用户名                        用户和用户主目录都删除

- id   ——>  查看用户是否存在

  - id 用户名

- passwd  ——>   设置用户密码

  - passwd  用户名                             设置用户密码

- cat /etc/passwd    ——>   查看创建了哪些用户

- su  ——>  切换用户（switch user）

  - su 用户名称                                       切换用户，只能获得用户的执行权限，不能获得环境变量
  - su - 用户名称                                     切换到用户，并获得该用户的环境变量及执行权限

- sudo  ——>    设置普通用户具有root权限

  ![image-20250105191135579](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250105191135579.png)

- who  ——>   查看登录用户信息

  - whoami                                          显示自身用户名称
  - who am i                                        显示登录用户的用户名以及登录时间

- usermod    ——>    修改用户

  - usermod -g 用户组 用户名          修改用户的登录组





#### 4、用户组管理

> 每个用户都用一个用户组，系统可以对一个用户组中的所有用户进行集中管理。不同Linux系统对用户组的固定有所不同。
>
> 如Linux下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。
>
> 用户组的管理设计用户组的添加、删除和修改。组的增加、删除和修改实际上就是对/etc/group文件的更新



- groupadd     ——>         新增组
  - groupad  组名
- groupdel   ——>             删除组
  - groupdel 组名
- groupmod   ——>           修改组
  - groupmod -n 新组名 老组名     （-n 指定工作组的新组名）
- cat /etc/group  ——>  查看创建了哪些组







#### 5、文件权限

![image-20250105201111334](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250105201111334.png)

![image-20250105201428772](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250105201428772.png)

![image-20250105201534096](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250105201534096.png)



- chmod       ——>   改变权限

  - chmod  [{ugoa} {+-=} {rwx}] 文件或目录

    - u 所有者
    - g 所有组
    - o 其他人
    - a 所有人（u、g、o的总和）

  - chmod  [mode=421] [文件或目录]

    - r=4、w=2、x=1

    ```shell
    chmod g+x houge.txt        修改文件使其所属组用户具有执行权限
    chmod u-x,o+x houge.txt    修改文件使其 所属主用户没有执行权限，其他用户具有执行权限
    chmod 777 houge.txt        采用数字方式，设置文件所有者、所属组、其他用户都具有可读可写可执行权限
    chmod -R 777 dir/          采用数字方式，递归修改文件夹权限
    ```

    

- chown   ——>   改变所有者

  - chown [选项] [最终用户] [文件或目录]                      改变文件或者目录的所有者
  - -R                                                                                   递归操作

  ```shell
  chown root /u               将/u的属主改为root
  chown root:staff /u         将/u的属主改为root，同时也将属组更改为staff
  chown -hR root /u           将/u及其子目录下所有文件的属主改为root
  ```

- chgrp   ——>   改变所属组

  - chgrp [最终用户组] [文件或目录]                                 改变文件或者目录的所属组

  ```shell
  chgrp root houge.txt
  ```

  



#### 6、搜索查找

- find         ——>   查找文件或者目录

  - find [搜索范围] [选项]             从指定目录向下递归遍历各个子目录，将满足条件的文件显示在终端

  | 选项             | 功能                                                         |
  | ---------------- | ------------------------------------------------------------ |
  | -name <查询方式> | 按照指定的文件名查找模式查找文件                             |
  | -user <用户名>   | 查找属于指定用户名所有文件                                   |
  | -size <文件大小> | 按照指定的文件大小查找文件，单位为：<br />b——块        512字节<br />c——字节<br />w——字       2字节<br />k——千字节 <br />M——兆字节<br />G——吉字节 |

  ```shell
  find /root/ -name "*.txt"              根据名称查找/root/目录下的txt文件
  find /home/ -user root                 查找/home/目录下，用户名称为root的文件
  find /home  -size +204800              查找/home目录下大于200m的文件（+n 大于、-n小于、n等于）
  ```

- locate  ——>    快速定位文件路径

  > locate 指令利用事先建立的系统中的所有文件名称及路径的locate数据库实现快速定位给定的文件。
  >
  > locate 指令无需遍历整个文件系统，查询速速较快。
  >
  > 为了保证查询结果的准确性，管理员必须定期更新locate时刻。
  >
  > 由于locate指令基于数据库进行查询，所以第一次运行前，必须使用updatedb指令创建locate数据库

  - locate 搜索文件

- grep  ——>    过滤查找及管道符

  - grep [选项] [查找内容] [源文件]
  - -n           显示匹配行及行号







#### 7、压缩和解压



- gzip/gunzip 压缩

  - gzip 文件                                                    压缩文件，只能将文件压缩为*.gz文件
  - gunzip 文件.gz                                          解压缩文件命令

  > 注意：
  > 1、只能压缩文件不能压缩目录
  > 2、不保留原来的文件
  > 3、同时多个文件会产生多个压缩包

![image-20250106145856995](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250106145856995.png)



- zip/unzip  压缩

  - zip [选项] xxx.zip 将要压缩的内容                           压缩文件和目录的命令
  - unzip [选项] xxx.zip                                                  解压缩文件

  | zip选项 | 功能     |
  | ------- | -------- |
  | -r      | 压缩目录 |

  | unzip选项 | 功能                     |
  | --------- | ------------------------ |
  | -d <目录> | 指定解压后文件的存放目录 |

  > zip压缩命令在windows/linux都通用，可以压缩目录且保留源文件



- tar        打包

  - tar [选项] xxx.tar.gz 将要打包进去的内容                               打包目录，压缩后的文件格式tar.gz

  | 选项 | 功能               |
  | ---- | ------------------ |
  | -c   | 产生.tar打包文件   |
  | -v   | 显示详细信息       |
  | -f   | 指定压缩后的文件名 |
  | -z   | 打包同时压缩       |
  | -x   | 解包.tar文件       |
  | -C   | 解压到指定目录     |

  ![image-20250106150752441](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250106150752441.png)





#### 8、磁盘查看和分区

- du  ——>   查看文件和目录占用的磁盘空间（disk usage）

  - du [选项] [目录/文件]                              显示目录下每个子目录的磁盘使用情况

  | 选项          | 功能                                                 |
  | ------------- | ---------------------------------------------------- |
  | -h            | 以人们较易读懂的GBytes、MBytes、KBytes等格式自行显示 |
  | -a            | 不仅查看子目录大小，还要包括文件                     |
  | -c            | 显示所有的文件和子目录大小后，显示总和               |
  | -s            | 只显示总和                                           |
  | --max-depth=n | 指定统计子目录的深度为第n层                          |

  ```shell
  du -sh
  ```

- df  ——>  查看磁盘空间使用情况（disk free）

  - df [选项]    列出文件系统的整体磁盘使用量，检查文件系统的磁盘空间占用情况
  - -h   以人民较易阅读的GBytes、MBytes、KBytes等格式显示

- lsblk  ——>   查看设备挂载情况

  - -f          查看详细的设备挂载情况，显示文件系统信息

- mount/umount  ——>   挂载/卸载

  > 对于linux用户来讲，不论有几个分区，分别分给哪一个目录使用，它总归就是一个根目录，一个独立且唯一的文件结构。
  >
  > Linux中每个分区都是用来组成整个文件系统的一部分，他在用一种叫做“挂载”的处理方法，它整个文件系统中包含了一整套的文件和目录，并将一个分区和一个目录联系起来，要载入的那个分区将使它的存储空间在这个目录下获得。

  - mount [-t vfstype] [-o options] device dir    挂载设备
  - umount  设备文件名或挂载点                         卸载设备

  | 参数       | 功能                                                         |
  | ---------- | ------------------------------------------------------------ |
  | -t vfstype | 指定文件系统的类型，通常不必指定。mount会自动选择正确的类型。<br />常用的类型有：<br />光盘或者光盘镜像：iso9660<br />DOS fat16 文件系统：msdos<br />Windows 9x fat32 文件系统：vfat<br />Windows NT ntfs 文件系统：ntfs<br />Mount Windows 文件网络共享：smbfs<br />UNIX(LINUX) 文件网络共享：nfs |
  | -o options | 主要用来描述设备或者档案的挂载方式。常用的参数有：<br />loop：用来把一个文件当成磁盘分区挂载上系统<br />ro：采用只读方式挂载设备<br />rw：采用读写方式挂载设备<br />iocharset：指定访问文件系统的所有字符集 |
  | device     | 要挂载的设备                                                 |
  | dir        | 设备在系统上的挂载点                                         |

  ```shell
  mkdir /mnt/cdrom
  mount -t iso9660 /dev/cdrom /mnt/cdrom             设备/dev/cdrom 挂载到挂载点：/mnt/cdrom中
  umount /mnt/cdrom                                  卸载
  ```

  - 设置开机自启动

    - vi /etc/fstab

    ![image-20250105225838432](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250105225838432.png)





#### 9、进程管理



- ps  ——>  查看当前系统进程状态（process status）

  - ps aux | grep xxx                          查看当前系统中的所有进程
  - ps -ef   | grep xxx                          可以查看父子进程之间的关系
  - 如果想查看进程的CPU占用率和内存占用率，可用aux，如果查看父进程可用ef

  | 选项 | 功能                                     |
  | ---- | ---------------------------------------- |
  | a    | 列出带有终端的所有用户的进程             |
  | x    | 列出当前用户的所有进程，包括没有中的进程 |
  | u    | 面向用户友好的显示风格                   |
  | -e   | 列出所有进程                             |
  | -u   | 列出某个用户关联的所有进程               |
  | -f   | 显示完整格式的进程列表                   |

  - ps aux 显示信息说明

  | USER    | 该进程是由哪个用户产生的                                     |
  | ------- | ------------------------------------------------------------ |
  | PID     | 进程的ID号                                                   |
  | %CPU    | 该进程占用的CPU资源的百分比                                  |
  | %MEM    | 该进程占用物理内存的百分比                                   |
  | VSZ     | 该进程占用虚拟内存的大小，单位KB                             |
  | RSS     | 该进程占用实际物理内存的大小，单位KB                         |
  | TTY     | 该进程是在哪个终端中运行的。对于centos来说：<br />tty1是图形化终端；<br />tty2~tty6是本地的字符界面终端；<br />pts/0-255 代表虚拟终端； |
  | STAT    | 进程状态。常见的状态有：<br />R：运行状态<br />S：睡眠状态<br />T：暂停状态<br />Z：僵尸状态<br />s：包含子进程<br />l：多线程<br />+：前台显示 |
  |         | 该进程的启动时间                                             |
  |         | 该进程占用CPU的运算时间，注意不是系统时间                    |
  | COMMAND | 产生此进程的命令名                                           |

  - ps -ef 显示信息说明

  | UID   | 用户ID                                                       |
  | ----- | ------------------------------------------------------------ |
  | PID   | 进程ID                                                       |
  | PPID  | 父进程ID                                                     |
  | C     | CPU用于计算执行优先级的因子。<br />数值越大，表明进程是CPU密集型运算，执行的优先级会降低；<br />数值越小，表明进程是I/O密集型运算，执行的优先级会提高 |
  | STIME | 进程启动的时间                                               |
  | TTY   | 完整的终端名称                                               |
  | TIME  | CPU时间                                                      |
  |       | 启动进程所用的命令和参数                                     |



- kill ——> 终止进程

  - kill [选项] 进程号                                             通过进程号杀死进程
  - killall 进程名称                                                通过进程名称杀死进程
  - \-9                                                                      表示强迫进程立即停止

- pstree  ——>  查看进程树

  - pstree [选项]
  - -p                      显示进程的pid
  - -u                      显示进程的所属用户

- top       ——>     实时监控系统进程状态

  - top [选项]

  | 选项    | 功能                                                         |
  | ------- | ------------------------------------------------------------ |
  | -d 秒数 | 指定top命令每隔几秒更新。<br />默认是3秒，在top命令的交互模式当中可以执行的命令。 |
  | -i      | 使top不显示任何闲置或者僵死进程                              |
  | -p      | 通过指定监控进程ID来仅仅监控某个进程的状态                   |

  - 操作说明

  | 操作 | 功能                          |
  | ---- | ----------------------------- |
  | P    | 以CPU使用率排序，默认就是此项 |
  | M    | 以内存的使用率排序            |
  | N    | 以PID排序                     |
  | q    | 退出top                       |

  - 显示信息说明

    ![image-20250106132330940](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250106132330940.png)

    - 第一行信息为任务队列信息

    | 内容                           | 说明                                                         |
    | ------------------------------ | ------------------------------------------------------------ |
    | 13:23:09                       | 系统当前时间                                                 |
    | up 5 days,18:33                | 系统的运行时间，本机已经运行5天18小时12分钟                  |
    | 2users                         | 当前登录了两个用户                                           |
    | load average: 0.09, 0.05, 0.05 | 系统在之前1分钟、5分钟、15分钟的平均负载。<br />一般认为小于1时，负载较小；<br />如果大于1时，系统已经超出负荷 |

    - 第二行为进程信息

    | 88 total    | 系统中的进程总数                          |
    | ----------- | ----------------------------------------- |
    | 1 running   | 正在运行的进程数                          |
    | 87 sleeping | 睡眠的进程                                |
    | 0 stopped   | 正在停止的进程                            |
    | 0 zombie    | 僵尸进程。如果不是0，需要手工检查僵尸进程 |

    - 第三行为CPU信息

    | 1.5us  | 用户模式占用的CPU百分比                                      |
    | ------ | ------------------------------------------------------------ |
    | 1.7sy  | 系统模式占用的CPU百分比                                      |
    | 0.0ni  | 改变过优先级的用户进程占用的CPU百分比                        |
    | 96.8id | 空闲CPU的CPU百分比                                           |
    | 0.0wa  | 等待输入/输出的进程的占用CPU百分比                           |
    | 0.0hi  | 硬中断请求服务占用的CPU百分比                                |
    | 0.0si  | 软中断请求服务占用的CPU百分比                                |
    | 0.0st  | st（steal time）虚拟时间百分比。当有虚拟机时，虚拟CPU等待实际CPU的时间百分比 |

    - 第四行为物理内存信息

    | 1798504 total      | 物理内存的总量，单位KB |
    | ------------------ | ---------------------- |
    | 442396 free        | 空闲的物理内存数量     |
    | 148968 used        | 已经使用的物理内存数量 |
    | 1207108 buff/cache | 作为缓冲区的内存数量   |

    - 第五行为交换分区(swap)信息

    | 0 total           | 交换分区的总大小         |
    | ----------------- | ------------------------ |
    | 0 free            | 空闲交换分区的大小       |
    | 0 used            | 已经使用的交换分区大小   |
    | 1462176 avail Mem | 作为缓冲区的交换分区大小 |



- netstat     ——>  显示网络状态和端口占用信息

  - netstat -anp | grep 进程号                                        查看该进程网络信息
  - netstat -nlp  | grep 端口号                                        查看网络端口号占用情况

  | 选项 | 功能                                                 |
  | ---- | ---------------------------------------------------- |
  | -a   | 显示所有正在监听（listen）和未监听的套接字（socket） |
  | -n   | 拒绝显示别名，能显示数字的全部转化成数字             |
  | -l   | 仅列出在监听的服务状态                               |
  | -p   | 表示显示哪个进程在调用                               |

  ``` shell
  netstat -anp | grep sshd         # 通过进程号查看sshd进程的网络信息
  netstat -nltp | grep 22          # 查看端口号是否被占用
  ```

  

#### 10、crontab 系统定时任务

- 重启 crond服务
  - systemctl restart crond
- crontab [选项]

| 选项 | 功能                          |
| ---- | ----------------------------- |
| -e   | 编辑crontab定时任务           |
| -l   | 查询crontab任务               |
| -r   | 删除当前用户所有的crontab任务 |

- 参数说明
  - crontab -e                             进入crontab编辑页面。会打开vim编辑你的任务
  - \* \* \* \* \* 执行的任务
    - 例：   */1 * * * *  /bin/echo '11' >> /root/baima.txt

![image-20250106142549513](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250106142549513.png)

#### 11、RPM与YUM



###### RPM

> RPM（RedHat Package Manager）,RedHat软件包管理工具，类似windows里面的setup.exe，是Linux这系列操作系统里面的打包安装工具。
>
> RPM包的名称格式

![image-20250106143146761](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250106143146761.png)

- rpm -qa                           查询所安装的所有rmp软件包	

  - rpm -qa | grep rpm软件包

- rpm -e                              卸载命令

  - rpm -e rpm软件包
  - rpm -e --nodeps 软件包

  | 选项     | 功能                                                         |
  | -------- | ------------------------------------------------------------ |
  | -e       | 卸载软件包                                                   |
  | --nodeps | 卸载软件时，不检查依赖。<br />这样的话，那些使用该软件包的软件在此之后可能就不能正常工作了 |

- rpm -ivh                         安装命令

  - rpm -ivh rpm包全名

  | 选项     | 功能                    |
  | -------- | ----------------------- |
  | -i       | install，安装           |
  | -v       | --verbose，显示详细信息 |
  | -h       | --hash，进度条          |
  | --nodeps | 安装前不检查依赖        |

  



###### YUM

> YUM（全称为 Yellow dog Updater,Modified）是一个在Fedora和Redhat以及Centos中的shell前端软件包管理器。基于RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自定处理依赖性关系，并且一次安装所有的依赖的软件包，无需繁琐的一次次下载、安装。

![image-20250106144136059](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250106144136059.png)

- yum [选项] [参数]

  - 选项说明

  | 选项 | 功能                |
  | ---- | ------------------- |
  | -y   | 对所有提问都回答yes |

  - 参数说明

  | 参数         | 功能                          |
  | ------------ | ----------------------------- |
  | install      | 安装rpm软件包                 |
  | update       | 更新rpm软件包                 |
  | check-update | 检查是否有可用的更新rpm软件包 |
  | remove       | 删除指定的rpm软件包           |
  | list         | 显示软件包信息                |
  | clean        | 清理yum过期的缓存             |
  | deplist      | 显示yum软件包的所有依赖关系   |

- 修改网络yum源

  > 默认的系统YUM源，需要连接过我的apache网站，网速比较慢，可以修改关联的网络YUM源为国内镜像的网站，比如网易163、aliyun等

  - 安装wget，wget用来从指定的URL下载文件

    - yum install wget

  - 在/etc/yum.repos.d/目录下，备份默认的repos文件

  - 下载网易163或者阿里云的repos文件，任选其一。

    ![image-20250106144905713](/Users/linkk/codes/freestyle/typoraaa/linux/.images/image-20250106144905713.png)

  - 使用下载好的repos文件替换默认的repos文件

    - mv Centos7-Base-163.repo Centos-Base.repo

  - 清理旧缓存数据，缓存新数据

    - yum clean all
    - yum makecache（就是把服务器的报信息下载到本地电脑缓存起来）

  - 测试

    - yum list | grep xxx
    - yum -y install xxx